!function(e){"use strict";function t(e,t,n){var o,c=n||e.checkedItem,r=l+"radio-";return e.items.forEach(function(n){var i,u=t[n],s=u.options;n===c?(i=!0,e.checkedItem=n,o=u.value):i=!1,i!==u.checked&&(u.checked=s.checked=s.selected=i,u.$elm&&u.$elm.removeClass(r+(i?"off":"on")).addClass(r+(i?"on":"off")))}),o}function n(e,t){var n=l+"checkbox-",o=e.options;return"boolean"==typeof t&&t!==e.checked&&(e.checked=o.checked=o.selected=t,e.$elm&&e.$elm.removeClass(n+(t?"off":"on")).addClass(n+(t?"on":"off"))),e.value[e.checked?1:0]}function o(n,o,c){var r=this,i={},p={},h=[],f={},m={};Object.keys(n).forEach(function(t){var o,c,r=n[t],u=r.options;i[r.itemKey]=t,r.checked=u.checked=u.selected=!!u.checked||!!u.selected,"checkbox"===r.type?r.value=e.isArray(u.value)?u.value:[!1,u.hasOwnProperty("value")?u.value:!0]:(null==(o=u.radiogroup)&&null==(o=u.radio)||!(c=o+"")||(r.groupId=c,p[c]=!0),u.hasOwnProperty("value")&&(r.value=u.value),h.push(t))}),h.forEach(function(e){var o,c,r,i=n[e];if(!i.groupId){if(!f[i.nodeId]){for(o="node-"+i.nodeId,c=0;p[o];o="node-"+i.nodeId+"-"+c++);f[i.nodeId]=o}i.groupId=f[i.nodeId]}m[i.groupId]?(r=m[i.groupId],r.items.push(e),i.checked&&t(r,n,e)):t(r=m[i.groupId]={items:[e]},n,e),i.hasOwnProperty("value")||(i.value=r.items.length-1)}),Object.keys(n).forEach(function(t){var o=n[t],i=o.options,u=i.callback,d=i.icon;i.callback=function(){return r.click(t),u?u.apply(r.$trigger,arguments):c.callback?c.callback.apply(r.$trigger,arguments):void 0},i.icon=function(t,n){return o.$elm=n,e.isFunction(d)&&d.apply(this,arguments),s+" "+a+"icon-ctrl "+l+o.type+"-"+(o.checked?"on":"off")}}),r.$trigger=o,r.items=n,r.groups=m,r.itemKey2itemId=i,r.specificGroupIds=p,o.data(u,r),d.push(r)}function c(){d.map(function(e){return e}).forEach(function(e){e.remove()})}function r(t,n,o){var c;return null==o?o={value:0}:o.value++,c=o.value,Object.keys(t).reduce(function(n,i){var u,l,d,p,h=t[i],f=h.type,m=h.label||h.name;if("checkbox"===f||"radio"===f){for(delete h.type,d=i,p=0;!d||n[d];d=i+""+p++);n[d]={itemKey:i,options:h,type:f,nodeId:c}}return m&&e.isArray(m)&&(u=m[1],m=m[0]),m&&((l=m instanceof jQuery||null!=m.nodeType)||u?(h.name=l?"":m,h.icon=function(t){return function(n,o){return l&&!e.contains(o,m)&&o.empty().append(m),u&&!o.has("."+a+"sublabel").length&&o.prepend(e('<span class="'+a+'sublabel"/>')[u instanceof jQuery||null!=u.nodeType?"append":"text"](u)),t?e.isFunction(t)?t.apply(this,arguments):s+" "+s+"-"+t:""}}(h.icon)):h.name=m),h.items&&(n=r(h.items,n,o)),n},n||{})}function i(e,t){var n;return e.items&&Object.keys(n=r(e.items)).length?new o(n,t,e):null}var u="_contextmenu_common_checkable",s="context-menu-icon",a="contextmenu-common-",l=s+"-common-",d=[];if(o.prototype.click=function(e){var o=this.items[e];"checkbox"===o.type?n(o,!o.checked):t(this.groups[o.groupId],this.items,e)},o.prototype.value=function(e,o){function c(e,t,n){var o;return e.items.some(function(e){return t[e].value===n?(o=e,!0):!1}),o}function r(e,t){return e[0]===t?!1:e[1]===t?!0:null}var i,u,s,a;if(e){if(this.specificGroupIds[e]?u=e:(i=this.itemKey2itemId[e])&&(s=this.items[i],"radio"===s.type&&(u=s.groupId)),u)return t(this.groups[u],this.items,arguments.length>=2?c(this.groups[u],this.items,o):null);if(i)return n(s,arguments.length>=2?r(s.value,o):null)}return a},o.prototype.remove=function(){var e;this.$trigger.removeData(u),this.$trigger=this.items=this.groups=this.itemKey2itemId=this.specificGroupIds=null,(e=d.indexOf(this))>-1&&d.splice(e,1)},!e.contextMenu)throw new Error("jQuery.contextMenu is not loaded.");e.contextMenuCommon=function(t,n){var o,r,s,a;return"string"==typeof t?(r=t,o=n||{}):(r="create",o=t||{}),"create"===r?e.isPlainObject(o)&&o.selector&&(s=e(o.selector)).length&&i(o,s):"destroy"===r&&((s="string"==typeof o?e(o):o.context)?s.length&&(a=s.data(u))&&a.remove():c()),e.contextMenu.apply(e,arguments)},e.fn.contextMenuCommon=function(t,n){var o,c=this.length?this.data(u):null;if(c)switch(t){case"click":return(o=c.itemKey2itemId[n])&&c.click(o),this;case"value":return c.value.apply(c,[].slice.call(arguments,1));case"destroy":return e.contextMenuCommon("destroy",{context:this}),this;case"checkable":return c}return e.fn.contextMenu.apply(this,arguments)}}(jQuery);